{% extends 'base.html' %}

{% block title %}Music Player{% endblock %}

{% block content %}
    <h2>Music Player</h2>

    <!-- Recherche de musiques -->
    <form method="GET" action="{% url 'search_music' %}">
        <input type="text" name="q" placeholder="Search music...">
        <button type="submit">Search</button>
    </form>

    <br>
    <!-- Lecteur audio -->
    <audio controls>
        <source src="{% static 'path_to_your_uploaded_music_file.mp3' %}" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <br><br>
    <!-- Contrôles du lecteur audio -->
    <button onclick="document.getElementsByTagName('audio')[0].play()">Play</button>
    <button onclick="document.getElementsByTagName('audio')[0].pause()">Pause</button>
    <button onclick="document.getElementsByTagName('audio')[0].volume += 0.1">Volume Up</button>
    <button onclick="document.getElementsByTagName('audio')[0].volume -= 0.1">Volume Down</button>
    <br><br>
    <button onclick="document.getElementsByTagName('audio')[0].currentTime += 10">Forward</button>
    <button onclick="document.getElementsByTagName('audio')[0].currentTime -= 10">Rewind</button>
    <button onclick="document.getElementsByTagName('audio')[0].pause(); document.getElementsByTagName('audio')[0].currentTime = 0;">Stop</button>

    <!-- Résultats de la recherche -->
    {% if musics %}
        <h3>Search Results</h3>
        <ul>
            {% for music in musics %}
                <li>{{ music.title }}</li>
            {% empty %}
                <li>No music found.</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}
